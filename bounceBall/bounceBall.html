<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="./../css/main.css">
        <link rel="stylesheet" type="text/css" href="bounceBall.css">

        <!-- for web site icon -->
        <link rel="apple-touch-icon" sizes="57x57" href="./../images/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="./../images/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="./../images/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="./../images/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="./.././../images/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="./../images/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="./../images/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="./../images/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="./../images/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="images/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="./../images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="./../images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./../images/favicon-16x16.png">
        <link rel="manifest" href="./../images/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="./../images/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        
    </head>
    <body>     
        <script src="bounceBall.js"></script>
        <header>
        <h1 align="center">Bouncing Ball Box</h1>
        </header>     
        <div align='center'>
            <p>Choose from 0 to 5 balls and begin bouncing in box</p>
            <p><input id="numballs" type="number" style="width: 50px" value="3" >
            <input onclick="bounce()" type="button" value="Bounce Balls" /></p>
        </div>
        <div id="msg" align="center" style="color : red"></div>
        <div align="center">
            <canvas id="box" width="300" height="300" style="border: 2px solid #5353c6">
            </canvas>
        </div>
        <div align="center">
            <p>Number of balls has been limited for two reasons:</p>
            <p>1. to reduce wierd artifacts resulting from multiple object collsions.  Have not yet figured out how to handle those... </p>
            <p>2. so that inital balls fit on canvas without overlap - about 50 can fit but they behave weirdly</p>
        </div>
        <hr/>
        <div><h1>Function summary for Bouncing Ball Box</h1></div>
        <div class='space'>
            <h2>Function in html script:</h2>
            <h3>bounce()</h3>
            <ul>
                <li>checks to see if number of balls within range</li>
                <li>calls createBalls() once</li>
                <li>calls drawBalls() at regular intervals</li>
            </ul>
        </div>
        <div class='space'>
            <h2>Functions in js file:</h2>
            <h3>createBalls()</h3>
            <ul>
                <li>creates the balls making sure that no overlap occurs</li> 
                <li>stores balls in document.balls array</li>
            </ul>
            <h3>drawBalls()</h3>
            <ul>
                <li>draws balls stored in document.balls array</li>
                <li>calls collideBall()</li>
                <li>calls collideBall() for each ball</li>
            </ul>
            <h3>rndXY(radius)</h3>
            <ul>
                <li>returns function that will return a random number in range:</li>
                <li>from radius to (width or height)-radius</li>
            </ul>
            <h3>Ball(idx, x, y)</h3>
            <ul>
                <li>is the ball object</li>  
                <li>stores info about ball x, y, velocity vectors, radius</li>
            </ul>

            <h3>updatePos(ballObj)</h3>
            <ul>
                <li>moves ball one step by adding velocity vectors to position</li>
            </ul>
            <h3>dist(ball1, ball2)</h3>
            <ul>
                <li>calculates and returns the distance between ball1 and ball2</li>
            </ul>
            <h3>collideBall(process)</h3>
            <ul>
                <li>finds balls that are colliding and</li> 
                <li>runs process() on each ball</li>
            </ul>
            <h3>newTrajectory(ball1, ball2)</h3>
            <ul>
                <li>calculates after collision trajectory for ball1 and ball2</li>
            </ul>
            <h3>collideWall(ballObj)</h3>
            <ul>
                <li>check if ballObj collides with wall</li>
                <li>if does change trajectory of ballObj to bounce</li>
                <li>else do nothing</li>
            </ul>
        </div>    
        <hr/>
        <p align='center'> <a href="../index.html">Back To Projects Page</a> </p>     
    </body>
    
    <script>
        function bounce(){
            var test = Number(document.getElementById("numballs").value);
            if(test >= 0 && test <= 5 ){
                document.getElementById("msg").innerHTML = "";
                createBalls();
                setInterval(drawBalls,20); // draw canvas every XXX ms
            }
            else{
                document.getElementById("msg").innerHTML = "Number of balls has to be in range 0 to 5.  Please try again!";
            }
        }
    </script>
    
</html>